
## Translation


```python
import cv2
import numpy as np

I = cv2.imread('karimi.jpg')

# translations in x and y directions
tx = 100
ty = 10

# use an affine transformation matrix (2x3)
M = np.array([[1, 0, tx],
              [0, 1, ty]]).astype(np.float32)

output_size = (I.shape[1],I.shape[0]) # output image size
#output_size = (I.shape[1]+200, I.shape[0]+200);

J = cv2.warpAffine(I,M,output_size)

cv2.imshow('I',I)
cv2.waitKey(0)

cv2.imshow('J',J)
cv2.waitKey(0)

#! use a homography transformation matrix (3x3)
H = np.array([[1, 0, tx],
              [0, 1, ty],
              [0, 0, 1]]).astype(np.float32)
K = cv2.warpPerspective(I,H, output_size)
cv2.imshow('K',K)
cv2.waitKey(0)

cv2.destroyAllWindows()
```

## Euclidean (Rigid) transformation


```python
import cv2
import numpy as np

I = cv2.imread('karimi.jpg',0)

tx = 0
ty = 0

th =  20 # angle of rotation (degrees)
th *= np.pi / 180 # convert to radians

M = np.array([[np.cos(th),-np.sin(th),tx],
              [np.sin(th), np.cos(th),ty]])

J = cv2.warpAffine(I,M, (I.shape[1], I.shape[0]) )

cv2.imshow('I',I)
cv2.imshow('J',J)

cv2.waitKey(0)
cv2.destroyAllWindows()
```

## Task 1:


```python
import cv2
import numpy as np

I = cv2.imread('karimi.jpg',0)

# centre of the image
c = np.array([[I.shape[1]/2.0], [I.shape[0]/2.0]])

for theta in range(0,360):
    th = theta * np.pi / 180 # convert to radians

    R = np.array([[np.cos(th),-np.sin(th)],
                  [np.sin(th), np.cos(th)]])

    t = np.dot(R,c)
    t=  c - t
    
    print "t is:",t
    # concatenate R and t to create the 2x3 transformation matrix
    M = np.hstack([R,t])

    J = cv2.warpAffine(I,M, (I.shape[1], I.shape[0]) )

    cv2.imshow('J',J)

    if cv2.waitKey(10) & 0xFF == ord('q'):
        break

cv2.destroyAllWindows()
```

    t is: [[ 0.]
     [ 0.]]
    t is: [[ 3.27450762]
     [-4.22140842]]
    t is: [[ 6.62219026]
     [-8.38502586]]
    t is: [[ 10.04202817]
     [-12.48958404]]
    t is: [[ 13.53297964]
     [-16.53383268]]
    t is: [[ 17.09398129]
     [-20.51653986]]
    t is: [[ 20.72394841]
     [-24.4364924 ]]
    t is: [[ 24.42177528]
     [-28.29249625]]
    t is: [[ 28.18633549]
     [-32.08337684]]
    t is: [[ 32.01648233]
     [-35.80797942]]
    t is: [[ 35.9110491 ]
     [-39.46516945]]
    t is: [[ 39.86884947]
     [-43.0538329 ]]
    t is: [[ 43.88867787]
     [-46.57287665]]
    t is: [[ 47.96930981]
     [-50.02122875]]
    t is: [[ 52.10950229]
     [-53.3978388 ]]
    t is: [[ 56.30799417]
     [-56.70167826]]
    t is: [[ 60.56350654]
     [-59.93174074]]
    t is: [[ 64.87474315]
     [-63.08704233]]
    t is: [[ 69.24039074]
     [-66.1666219 ]]
    t is: [[ 73.65911949]
     [-69.16954138]]
    t is: [[ 78.12958343]
     [-72.09488606]]
    t is: [[ 82.65042079]
     [-74.94176483]]
    t is: [[ 87.22025449]
     [-77.70931052]]
    t is: [[ 91.83769252]
     [-80.3966801 ]]
    t is: [[ 96.50132835]
     [-83.00305498]]
    t is: [[ 101.20974141]
     [ -85.52764123]]
    t is: [[ 105.96149746]
     [ -87.96966983]]
    t is: [[ 110.75514906]
     [ -90.32839692]]
    t is: [[ 115.58923604]
     [ -92.60310401]]
    t is: [[ 120.46228587]
     [ -94.7930982 ]]
    t is: [[ 125.37281418]
     [ -96.8977124 ]]
    t is: [[ 130.31932517]
     [ -98.91630552]]
    t is: [[ 135.3003121 ]
     [-100.84826268]]
    t is: [[ 140.3142577 ]
     [-102.69299538]]
    t is: [[ 145.35963468]
     [-104.4499417 ]]
    t is: [[ 150.43490616]
     [-106.11856647]]
    t is: [[ 155.53852617]
     [-107.69836139]]
    t is: [[ 160.6689401 ]
     [-109.18884525]]
    t is: [[ 165.82458517]
     [-110.58956404]]
    t is: [[ 171.00389092]
     [-111.90009107]]
    t is: [[ 176.2052797 ]
     [-113.12002716]]
    t is: [[ 181.42716709]
     [-114.24900069]]
    t is: [[ 186.66796248]
     [-115.28666777]]
    t is: [[ 191.92606945]
     [-116.23271233]]
    t is: [[ 197.19988634]
     [-117.08684617]]
    t is: [[ 202.48780669]
     [-117.84880913]]
    t is: [[ 207.78821976]
     [-118.5183691 ]]
    t is: [[ 213.09951098]
     [-119.09532214]]
    t is: [[ 218.42006248]
     [-119.57949248]]
    t is: [[ 223.74825357]
     [-119.97073266]]
    t is: [[ 229.08246124]
     [-120.2689235 ]]
    t is: [[ 234.42106063]
     [-120.47397415]]
    t is: [[ 239.76242555]
     [-120.58582218]]
    t is: [[ 245.10492898]
     [-120.60443349]]
    t is: [[ 250.44694352]
     [-120.52980243]]
    t is: [[ 255.78684196]
     [-120.36195173]]
    t is: [[ 261.12299771]
     [-120.10093251]]
    t is: [[ 266.45378533]
     [-119.74682429]]
    t is: [[ 271.777581  ]
     [-119.29973493]]
    t is: [[ 277.09276304]
     [-118.75980062]]
    t is: [[ 282.3977124 ]
     [-118.12718582]]
    t is: [[ 287.69081314]
     [-117.40208324]]
    t is: [[ 292.97045294]
     [-116.58471376]]
    t is: [[ 298.23502355]
     [-115.67532634]]
    t is: [[ 303.48292135]
     [-114.674198  ]]
    t is: [[ 308.71254776]
     [-113.5816337 ]]
    t is: [[ 313.9223098 ]
     [-112.39796623]]
    t is: [[ 319.11062053]
     [-111.12355615]]
    t is: [[ 324.27589953]
     [-109.75879167]]
    t is: [[ 329.4165734 ]
     [-108.30408849]]
    t is: [[ 334.53107626]
     [-106.75988975]]
    t is: [[ 339.61785016]
     [-105.12666581]]
    t is: [[ 344.67534564]
     [-103.40491417]]
    t is: [[ 349.70202213]
     [-101.5951593 ]]
    t is: [[ 354.69634846]
     [ -99.69795247]]
    t is: [[ 359.65680329]
     [ -97.71387157]]
    t is: [[ 364.58187565]
     [ -95.64352098]]
    t is: [[ 369.47006528]
     [ -93.48753136]]
    t is: [[ 374.31988322]
     [ -91.24655943]]
    t is: [[ 379.12985216]
     [ -88.92128781]]
    t is: [[ 383.89850692]
     [ -86.51242482]]
    t is: [[ 388.62439494]
     [ -84.0207042 ]]
    t is: [[ 393.30607667]
     [ -81.44688497]]
    t is: [[ 397.94212601]
     [ -78.79175113]]
    t is: [[ 402.53113079]
     [ -76.05611146]]
    t is: [[ 407.07169314]
     [ -73.24079927]]
    t is: [[ 411.56242997]
     [ -70.34667212]]
    t is: [[ 416.00197335]
     [ -67.3746116 ]]
    t is: [[ 420.38897096]
     [ -64.32552302]]
    t is: [[ 424.72208648]
     [ -61.20033516]]
    t is: [[ 429.]
     [ -58.]]
    t is: [[ 433.22140842]
     [ -54.72549238]]
    t is: [[ 437.38502586]
     [ -51.37780974]]
    t is: [[ 441.48958404]
     [ -47.95797183]]
    t is: [[ 445.53383268]
     [ -44.46702036]]
    t is: [[ 449.51653986]
     [ -40.90601871]]
    t is: [[ 453.4364924 ]
     [ -37.27605159]]
    t is: [[ 457.29249625]
     [ -33.57822472]]
    t is: [[ 461.08337684]
     [ -29.81366451]]
    t is: [[ 464.80797942]
     [ -25.98351767]]
    t is: [[ 468.46516945]
     [ -22.0889509 ]]
    t is: [[ 472.0538329 ]
     [ -18.13115053]]
    t is: [[ 475.57287665]
     [ -14.11132213]]
    t is: [[ 479.02122875]
     [ -10.03069019]]
    t is: [[ 482.3978388 ]
     [  -5.89049771]]
    t is: [[ 485.70167826]
     [  -1.69200583]]
    t is: [[ 488.93174074]
     [   2.56350654]]
    t is: [[ 492.08704233]
     [   6.87474315]]
    t is: [[ 495.1666219 ]
     [  11.24039074]]
    t is: [[ 498.16954138]
     [  15.65911949]]
    t is: [[ 501.09488606]
     [  20.12958343]]
    t is: [[ 503.94176483]
     [  24.65042079]]
    t is: [[ 506.70931052]
     [  29.22025449]]
    t is: [[ 509.3966801 ]
     [  33.83769252]]
    t is: [[ 512.00305498]
     [  38.50132835]]
    t is: [[ 514.52764123]
     [  43.20974141]]
    t is: [[ 516.96966983]
     [  47.96149746]]
    t is: [[ 519.32839692]
     [  52.75514906]]
    t is: [[ 521.60310401]
     [  57.58923604]]
    t is: [[ 523.7930982 ]
     [  62.46228587]]
    t is: [[ 525.8977124 ]
     [  67.37281418]]
    t is: [[ 527.91630552]
     [  72.31932517]]
    t is: [[ 529.84826268]
     [  77.3003121 ]]
    t is: [[ 531.69299538]
     [  82.3142577 ]]
    t is: [[ 533.4499417 ]
     [  87.35963468]]
    t is: [[ 535.11856647]
     [  92.43490616]]
    t is: [[ 536.69836139]
     [  97.53852617]]
    t is: [[ 538.18884525]
     [ 102.6689401 ]]
    t is: [[ 539.58956404]
     [ 107.82458517]]
    t is: [[ 540.90009107]
     [ 113.00389092]]
    t is: [[ 542.12002716]
     [ 118.2052797 ]]
    t is: [[ 543.24900069]
     [ 123.42716709]]
    t is: [[ 544.28666777]
     [ 128.66796248]]
    t is: [[ 545.23271233]
     [ 133.92606945]]
    t is: [[ 546.08684617]
     [ 139.19988634]]
    t is: [[ 546.84880913]
     [ 144.48780669]]
    t is: [[ 547.5183691 ]
     [ 149.78821976]]
    t is: [[ 548.09532214]
     [ 155.09951098]]
    t is: [[ 548.57949248]
     [ 160.42006248]]
    t is: [[ 548.97073266]
     [ 165.74825357]]
    t is: [[ 549.2689235 ]
     [ 171.08246124]]
    t is: [[ 549.47397415]
     [ 176.42106063]]
    t is: [[ 549.58582218]
     [ 181.76242555]]
    t is: [[ 549.60443349]
     [ 187.10492898]]
    t is: [[ 549.52980243]
     [ 192.44694352]]
    t is: [[ 549.36195173]
     [ 197.78684196]]
    t is: [[ 549.10093251]
     [ 203.12299771]]
    t is: [[ 548.74682429]
     [ 208.45378533]]
    t is: [[ 548.29973493]
     [ 213.777581  ]]
    t is: [[ 547.75980062]
     [ 219.09276304]]
    t is: [[ 547.12718582]
     [ 224.3977124 ]]
    t is: [[ 546.40208324]
     [ 229.69081314]]
    t is: [[ 545.58471376]
     [ 234.97045294]]
    t is: [[ 544.67532634]
     [ 240.23502355]]
    t is: [[ 543.674198  ]
     [ 245.48292135]]
    t is: [[ 542.5816337 ]
     [ 250.71254776]]
    t is: [[ 541.39796623]
     [ 255.9223098 ]]
    t is: [[ 540.12355615]
     [ 261.11062053]]
    t is: [[ 538.75879167]
     [ 266.27589953]]
    t is: [[ 537.30408849]
     [ 271.4165734 ]]
    t is: [[ 535.75988975]
     [ 276.53107626]]
    t is: [[ 534.12666581]
     [ 281.61785016]]
    t is: [[ 532.40491417]
     [ 286.67534564]]
    t is: [[ 530.5951593 ]
     [ 291.70202213]]
    t is: [[ 528.69795247]
     [ 296.69634846]]
    t is: [[ 526.71387157]
     [ 301.65680329]]
    t is: [[ 524.64352098]
     [ 306.58187565]]
    t is: [[ 522.48753136]
     [ 311.47006528]]
    t is: [[ 520.24655943]
     [ 316.31988322]]
    t is: [[ 517.92128781]
     [ 321.12985216]]
    t is: [[ 515.51242482]
     [ 325.89850692]]
    t is: [[ 513.0207042 ]
     [ 330.62439494]]
    t is: [[ 510.44688497]
     [ 335.30607667]]
    t is: [[ 507.79175113]
     [ 339.94212601]]
    t is: [[ 505.05611146]
     [ 344.53113079]]
    t is: [[ 502.24079927]
     [ 349.07169314]]
    t is: [[ 499.34667212]
     [ 353.56242997]]
    t is: [[ 496.3746116 ]
     [ 358.00197335]]
    t is: [[ 493.32552302]
     [ 362.38897096]]
    t is: [[ 490.20033516]
     [ 366.72208648]]
    t is: [[ 487.]
     [ 371.]]
    t is: [[ 483.72549238]
     [ 375.22140842]]
    t is: [[ 480.37780974]
     [ 379.38502586]]
    t is: [[ 476.95797183]
     [ 383.48958404]]
    t is: [[ 473.46702036]
     [ 387.53383268]]
    t is: [[ 469.90601871]
     [ 391.51653986]]
    t is: [[ 466.27605159]
     [ 395.4364924 ]]
    t is: [[ 462.57822472]
     [ 399.29249625]]
    t is: [[ 458.81366451]
     [ 403.08337684]]
    t is: [[ 454.98351767]
     [ 406.80797942]]
    t is: [[ 451.0889509 ]
     [ 410.46516945]]
    t is: [[ 447.13115053]
     [ 414.0538329 ]]
    t is: [[ 443.11132213]
     [ 417.57287665]]
    t is: [[ 439.03069019]
     [ 421.02122875]]
    t is: [[ 434.89049771]
     [ 424.3978388 ]]
    t is: [[ 430.69200583]
     [ 427.70167826]]
    t is: [[ 426.43649346]
     [ 430.93174074]]
    t is: [[ 422.12525685]
     [ 434.08704233]]
    t is: [[ 417.75960926]
     [ 437.1666219 ]]
    t is: [[ 413.34088051]
     [ 440.16954138]]
    t is: [[ 408.87041657]
     [ 443.09488606]]
    t is: [[ 404.34957921]
     [ 445.94176483]]
    t is: [[ 399.77974551]
     [ 448.70931052]]
    t is: [[ 395.16230748]
     [ 451.3966801 ]]
    t is: [[ 390.49867165]
     [ 454.00305498]]
    t is: [[ 385.79025859]
     [ 456.52764123]]
    t is: [[ 381.03850254]
     [ 458.96966983]]
    t is: [[ 376.24485094]
     [ 461.32839692]]
    t is: [[ 371.41076396]
     [ 463.60310401]]
    t is: [[ 366.53771413]
     [ 465.7930982 ]]
    t is: [[ 361.62718582]
     [ 467.8977124 ]]
    t is: [[ 356.68067483]
     [ 469.91630552]]
    t is: [[ 351.6996879 ]
     [ 471.84826268]]
    t is: [[ 346.6857423 ]
     [ 473.69299538]]
    t is: [[ 341.64036532]
     [ 475.4499417 ]]
    t is: [[ 336.56509384]
     [ 477.11856647]]
    t is: [[ 331.46147383]
     [ 478.69836139]]
    t is: [[ 326.3310599 ]
     [ 480.18884525]]
    t is: [[ 321.17541483]
     [ 481.58956404]]
    t is: [[ 315.99610908]
     [ 482.90009107]]
    t is: [[ 310.7947203 ]
     [ 484.12002716]]
    t is: [[ 305.57283291]
     [ 485.24900069]]
    t is: [[ 300.33203752]
     [ 486.28666777]]
    t is: [[ 295.07393055]
     [ 487.23271233]]
    t is: [[ 289.80011366]
     [ 488.08684617]]
    t is: [[ 284.51219331]
     [ 488.84880913]]
    t is: [[ 279.21178024]
     [ 489.5183691 ]]
    t is: [[ 273.90048902]
     [ 490.09532214]]
    t is: [[ 268.57993752]
     [ 490.57949248]]
    t is: [[ 263.25174643]
     [ 490.97073266]]
    t is: [[ 257.91753876]
     [ 491.2689235 ]]
    t is: [[ 252.57893937]
     [ 491.47397415]]
    t is: [[ 247.23757445]
     [ 491.58582218]]
    t is: [[ 241.89507102]
     [ 491.60443349]]
    t is: [[ 236.55305648]
     [ 491.52980243]]
    t is: [[ 231.21315804]
     [ 491.36195173]]
    t is: [[ 225.87700229]
     [ 491.10093251]]
    t is: [[ 220.54621467]
     [ 490.74682429]]
    t is: [[ 215.222419  ]
     [ 490.29973493]]
    t is: [[ 209.90723696]
     [ 489.75980062]]
    t is: [[ 204.6022876 ]
     [ 489.12718582]]
    t is: [[ 199.30918686]
     [ 488.40208324]]
    t is: [[ 194.02954706]
     [ 487.58471376]]
    t is: [[ 188.76497645]
     [ 486.67532634]]
    t is: [[ 183.51707865]
     [ 485.674198  ]]
    t is: [[ 178.28745224]
     [ 484.5816337 ]]
    t is: [[ 173.0776902 ]
     [ 483.39796623]]
    t is: [[ 167.88937947]
     [ 482.12355615]]
    t is: [[ 162.72410047]
     [ 480.75879167]]
    t is: [[ 157.5834266 ]
     [ 479.30408849]]
    t is: [[ 152.46892374]
     [ 477.75988975]]
    t is: [[ 147.38214984]
     [ 476.12666581]]
    t is: [[ 142.32465436]
     [ 474.40491417]]
    t is: [[ 137.29797787]
     [ 472.5951593 ]]
    t is: [[ 132.30365154]
     [ 470.69795247]]
    t is: [[ 127.34319671]
     [ 468.71387157]]
    t is: [[ 122.41812435]
     [ 466.64352098]]
    t is: [[ 117.52993472]
     [ 464.48753136]]
    t is: [[ 112.68011678]
     [ 462.24655943]]
    t is: [[ 107.87014784]
     [ 459.92128781]]
    t is: [[ 103.10149308]
     [ 457.51242482]]
    t is: [[  98.37560506]
     [ 455.0207042 ]]
    t is: [[  93.69392333]
     [ 452.44688497]]
    t is: [[  89.05787399]
     [ 449.79175113]]
    t is: [[  84.46886921]
     [ 447.05611146]]
    t is: [[  79.92830686]
     [ 444.24079927]]
    t is: [[  75.43757003]
     [ 441.34667212]]
    t is: [[  70.99802665]
     [ 438.3746116 ]]
    t is: [[  66.61102904]
     [ 435.32552302]]
    t is: [[  62.27791352]
     [ 432.20033516]]
    t is: [[  58.]
     [ 429.]]
    t is: [[  53.77859158]
     [ 425.72549238]]
    t is: [[  49.61497414]
     [ 422.37780974]]
    t is: [[  45.51041596]
     [ 418.95797183]]
    t is: [[  41.46616732]
     [ 415.46702036]]
    t is: [[  37.48346014]
     [ 411.90601871]]
    t is: [[  33.5635076 ]
     [ 408.27605159]]
    t is: [[  29.70750375]
     [ 404.57822472]]
    t is: [[  25.91662316]
     [ 400.81366451]]
    t is: [[  22.19202058]
     [ 396.98351767]]
    t is: [[  18.53483055]
     [ 393.0889509 ]]
    t is: [[  14.9461671 ]
     [ 389.13115053]]
    t is: [[  11.42712335]
     [ 385.11132213]]
    t is: [[   7.97877125]
     [ 381.03069019]]
    t is: [[   4.6021612 ]
     [ 376.89049771]]
    t is: [[   1.29832174]
     [ 372.69200583]]
    t is: [[  -1.93174074]
     [ 368.43649346]]
    t is: [[  -5.08704233]
     [ 364.12525685]]
    t is: [[  -8.1666219 ]
     [ 359.75960926]]
    t is: [[ -11.16954138]
     [ 355.34088051]]
    t is: [[ -14.09488606]
     [ 350.87041657]]
    t is: [[ -16.94176483]
     [ 346.34957921]]
    t is: [[ -19.70931052]
     [ 341.77974551]]
    t is: [[ -22.3966801 ]
     [ 337.16230748]]
    t is: [[ -25.00305498]
     [ 332.49867165]]
    t is: [[ -27.52764123]
     [ 327.79025859]]
    t is: [[ -29.96966983]
     [ 323.03850254]]
    t is: [[ -32.32839692]
     [ 318.24485094]]
    t is: [[ -34.60310401]
     [ 313.41076396]]
    t is: [[ -36.7930982 ]
     [ 308.53771413]]
    t is: [[ -38.8977124 ]
     [ 303.62718582]]
    t is: [[ -40.91630552]
     [ 298.68067483]]
    t is: [[ -42.84826268]
     [ 293.6996879 ]]
    t is: [[ -44.69299538]
     [ 288.6857423 ]]
    t is: [[ -46.4499417 ]
     [ 283.64036532]]
    t is: [[ -48.11856647]
     [ 278.56509384]]
    t is: [[ -49.69836139]
     [ 273.46147383]]
    t is: [[ -51.18884525]
     [ 268.3310599 ]]
    t is: [[ -52.58956404]
     [ 263.17541483]]
    t is: [[ -53.90009107]
     [ 257.99610908]]
    t is: [[ -55.12002716]
     [ 252.7947203 ]]
    t is: [[ -56.24900069]
     [ 247.57283291]]
    t is: [[ -57.28666777]
     [ 242.33203752]]
    t is: [[ -58.23271233]
     [ 237.07393055]]
    t is: [[ -59.08684617]
     [ 231.80011366]]
    t is: [[ -59.84880913]
     [ 226.51219331]]
    t is: [[ -60.5183691 ]
     [ 221.21178024]]
    t is: [[ -61.09532214]
     [ 215.90048902]]
    t is: [[ -61.57949248]
     [ 210.57993752]]
    t is: [[ -61.97073266]
     [ 205.25174643]]
    t is: [[ -62.2689235 ]
     [ 199.91753876]]
    t is: [[ -62.47397415]
     [ 194.57893937]]
    t is: [[ -62.58582218]
     [ 189.23757445]]
    t is: [[ -62.60443349]
     [ 183.89507102]]
    t is: [[ -62.52980243]
     [ 178.55305648]]
    t is: [[ -62.36195173]
     [ 173.21315804]]
    t is: [[ -62.10093251]
     [ 167.87700229]]
    t is: [[ -61.74682429]
     [ 162.54621467]]
    t is: [[ -61.29973493]
     [ 157.222419  ]]
    t is: [[ -60.75980062]
     [ 151.90723696]]
    t is: [[ -60.12718582]
     [ 146.6022876 ]]
    t is: [[ -59.40208324]
     [ 141.30918686]]
    t is: [[ -58.58471376]
     [ 136.02954706]]
    t is: [[ -57.67532634]
     [ 130.76497645]]
    t is: [[ -56.674198  ]
     [ 125.51707865]]
    t is: [[ -55.5816337 ]
     [ 120.28745224]]
    t is: [[ -54.39796623]
     [ 115.0776902 ]]
    t is: [[ -53.12355615]
     [ 109.88937947]]
    t is: [[ -51.75879167]
     [ 104.72410047]]
    t is: [[-50.30408849]
     [ 99.5834266 ]]
    t is: [[-48.75988975]
     [ 94.46892374]]
    t is: [[-47.12666581]
     [ 89.38214984]]
    t is: [[-45.40491417]
     [ 84.32465436]]
    t is: [[-43.5951593 ]
     [ 79.29797787]]
    t is: [[-41.69795247]
     [ 74.30365154]]
    t is: [[-39.71387157]
     [ 69.34319671]]
    t is: [[-37.64352098]
     [ 64.41812435]]
    t is: [[-35.48753136]
     [ 59.52993472]]
    t is: [[-33.24655943]
     [ 54.68011678]]
    t is: [[-30.92128781]
     [ 49.87014784]]
    t is: [[-28.51242482]
     [ 45.10149308]]
    t is: [[-26.0207042 ]
     [ 40.37560506]]
    t is: [[-23.44688497]
     [ 35.69392333]]
    t is: [[-20.79175113]
     [ 31.05787399]]
    t is: [[-18.05611146]
     [ 26.46886921]]
    t is: [[-15.24079927]
     [ 21.92830686]]
    t is: [[-12.34667212]
     [ 17.43757003]]
    t is: [[ -9.3746116 ]
     [ 12.99802665]]
    t is: [[-6.32552302]
     [ 8.61102904]]
    t is: [[-3.20033516]
     [ 4.27791352]]


## Similarity transform


```python
import cv2
import numpy as np

I = cv2.imread('karimi.jpg')

tx = 100
ty = 60

th =  20 # angle of rotation (degrees)
th *= np.pi / 180 # convert to radians

s = 0.3 # scale factor

M = np.array([[s*np.cos(th),-s*np.sin(th),tx],
              [s*np.sin(th), s*np.cos(th),ty]])

output_size = ((int)(I.shape[1]*s*2), (int)(I.shape[0]*s*2))
J = cv2.warpAffine(I,M,  output_size)

cv2.imshow('I',I)
cv2.imshow('J',J)

cv2.waitKey(0)
cv2.destroyAllWindows()
```

## Affine transformation


```python
import cv2
import numpy as np

I = cv2.imread('karimi.jpg')

t = np.array([[30],
              [160]], dtype=np.float32)
A = np.array([[1, 1],
              [0.5, 1]], dtype=np.float32)




M = np.hstack([A,t])

output_size = (I.shape[1]*2, I.shape[0]*2)
J = cv2.warpAffine(I,M,  output_size)

cv2.imshow('I',I)
cv2.imshow('J',J)

cv2.waitKey(0)
cv2.destroyAllWindows()
```

## Perspective transformation (Homography)


```python
import cv2
import numpy as np

I = cv2.imread('karimi.jpg')

t = np.array([[30],
              [160]], dtype=np.float32)
A = np.array([[.7, 0.8],
              [-0.3, .6]], dtype=np.float32)

M = np.hstack([A,t])

# perspective effect
p = np.array([[0.000,0.001, 1]]);

H = np.vstack([M,
               p]);


output_size = (I.shape[1], I.shape[0])
J = cv2.warpPerspective(I,H,  output_size)

cv2.imshow('I',I)
cv2.imshow('J',J)

cv2.waitKey(0)
cv2.destroyAllWindows()
```

## Estimating a homography transformation from point correspondences


```python
import cv2
import numpy as np

I1 = cv2.imread('farshchian1.jpg')
I2 = cv2.imread('farshchian2.jpg')

points1 = np.array([(82,14),
                    (242,17),
                    (241, 207),
                    (81, 206)]).astype(np.float32)

points2 = np.array([(46,75),
                    (196,61),
                    (220,227),
                    (76,251)]).astype(np.float32)
 
for i in range(4):
    cv2.circle(I1, (points1[i,0], points1[i,1]), 3, [0,0,255],2)
    cv2.circle(I2, (points2[i,0], points2[i,1]), 3, [0,0,255],2)

# compute homography from point correspondences
H = cv2.getPerspectiveTransform(points1, points2)


output_size = (I2.shape[1], I2.shape[0])
J = cv2.warpPerspective(I1,H,  output_size)

cv2.imshow('I1',I1)
cv2.waitKey(0)

cv2.imshow('I2',I2)
cv2.waitKey(0)

cv2.imshow('J',J)
cv2.waitKey(0)
cv2.destroyAllWindows()
```

## Task 2: Perspective Correction


```python
import numpy as np
import cv2

I = cv2.imread('sign.jpg')

p1 = (135,105)
p2 = (331,143)
p3 = (356,292)
p4 = (136,290)

points1 = np.array([p1,p2,p3,p4], dtype=np.float32)

p1 = (0,0)
p2 = (331-135,0)
p3 = (331-135,292-105)
p4 = (0,292-105)

points2 = np.array([p1,p2,p3,p4],dtype=np.float32)


n = 200
m = 190
output_size = (n,m)

H = cv2.getPerspectiveTransform(points1, points2)
J = cv2.warpPerspective(I,H,  output_size)


# mark corners of the plate in image I
for i in range(4):
    cv2.circle(I, (points1[i,0], points1[i,1]), 5, [0,0,255],2)

cv2.imshow('I', I);
cv2.imshow('J', J);

cv2.waitKey()
cv2.destroyAllWindows()
```
